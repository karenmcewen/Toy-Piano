<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Toy Piano</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
<div class = "header">TOY PIANO</div>

<!--this section matches the keyboard letters with piano note sounds-->
<!--use http://keycode.info/ to find the underlying key code-->

    <div class="keys">
        <div data-key="65" class="key"><!--letter A = note C1-->
          <span class="sound">C</span>
          <kbd>A</kbd>
         
        </div>
       
        <div data-key="87" class="key sharpflat"><!--letter W = note C1#/Dflat-->
          <span class="soundsharpflat">C&#9839/D&#9837</span>
          <kbd>W</kbd>
        </div>

        <div data-key="83" class="key"> <!--letter S = note D-->
          <span class="sound">D</span>
          <kbd>S</kbd>
          
        </div>
        
        <div data-key="69" class="key sharpflat"> <!--letter E = note D#/Eflat-->
          <span class="soundsharpflat">D&#9839/E&#9837</span>
          <kbd>E</kbd>
          
        </div>           
          
        <div data-key="68" class="key"> <!--letter D = note E-->
          <span class="sound">E</span>
          <kbd>D</kbd>
          
        </div>           
                  
        <div data-key="70" class="key"> <!--letter F = note F-->
          <span class="sound">F</span>
          <kbd>F</kbd>
          
        </div>
              
        <div data-key="84" class="key sharpflat"> <!--letter T = note F#/Gflat-->
          <span class="soundsharpflat">F&#9839/G&#9837</span>
          <kbd>T</kbd>
          
        </div>

        <div data-key="71" class="key"> <!--letter G = note G-->
          <span class="sound">G</span>
          <kbd>G</kbd>
          
        </div>
                
        <div data-key="89" class="key sharpflat"> <!--letter Y = note G#/Aflat-->
          <span class="soundsharpflat">G&#9839/A&#9837</span>
          <kbd>Y</kbd>
          
        </div>

        <div data-key="72" class="key"> <!--letter H = note A-->
          <span class="sound">A</span>
          <kbd>H</kbd>
        </div>
                
        <div data-key="85" class="key sharpflat"> <!--letter U = note A#/Bflat-->
          <span class="soundsharpflat">A&#9839/B&#9837</span>
          <kbd>U</kbd>
        </div>

        <div data-key="74" class="key"> <!--letter J = note B-->
          <span class="sound">B</span>
          <kbd>J</kbd>          
        </div>
                
        <div data-key="75" class="key"> <!--letter K = note C2-->
          <span class="sound">C</span>
          <kbd>K</kbd>          
        </div>     
      
    </div>
            
              <!--this section maps the keyboard keys to the audio piano wav files-->
              <audio data-key="65" src="sounds/c1.wav"></audio>
              <audio data-key="83" src="sounds/d1.wav"></audio>
              <audio data-key="68" src="sounds/e1.wav"></audio>
              <audio data-key="70" src="sounds/f1.wav"></audio>
              <audio data-key="71" src="sounds/g1.wav"></audio>
              <audio data-key="72" src="sounds/a1.wav"></audio>
              <audio data-key="74" src="sounds/b1.wav"></audio>
              <audio data-key="75" src="sounds/c2.wav"></audio>
              
              <!--sharps and flats-->>
              <audio data-key="87" src="sounds/c1s.wav"></audio>
              <audio data-key="69" src="sounds/d1s.wav"></audio>
               <audio data-key="84" src="sounds/f1s.wav"></audio>
              <audio data-key="89" src="sounds/g1s.wav"></audio>
              <audio data-key="85" src="sounds/a1s.wav"></audio>


            <script>
              //e stands for the event
              function removeTransition(e) {
                if (e.propertyName !== 'transform') return;
                e.target.classList.remove('playing');
              }
            
              function playSound(e) {
                const audio = document.querySelector(`audio[data-key="${e.keyCode}"]`);
                const key = document.querySelector(`div[data-key="${e.keyCode}"]`);
                if (!audio) return;
            
                key.classList.add('playing');
                audio.currentTime = 0;
                audio.play();
              }
            
              const keys = Array.from(document.querySelectorAll('.key'));
              keys.forEach(key => key.addEventListener('transitionend', removeTransition));
              window.addEventListener('keydown', playSound);
            </script>
            
            
            </body>
            </html>
            